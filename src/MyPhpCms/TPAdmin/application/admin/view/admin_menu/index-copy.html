<div class="p15">
    {include file="common/breadcrumb"}
    <div class="coms-table-wrap mt30 pl30 pr30">
        <!--  no-border  去掉头部就有边控了-->
        <div class="clearfix mb15">
            <a href="#" class="am-btn am-btn-success fr">添加菜单</a>
        </div>
        <div class="coms-table-bd">
            <table class="am-table am-table-bordered">
                <thead>
                    <tr>
                        <!-- th 中 复选框的宽度 写死 固定50  然后其他的用百分比，但是必须有一个是不要设置值得(这样可以自适应省去计算麻烦) -->
                        <th width="50">
                            <input type="checkbox" name="tblCheckAll" />
                        </th>
                        <th width="8%"><span>ID</span></th>
                        <th width="12%" class="align-l"><span>菜单名称</span></th>
                        <th width="15%"><span>URL</span></th>
                        <th width="8%"><span>父ID</span></th>
                        <th width="10%"><span>图标</span></th>
                        <th width="5%"><span>排序</span></th>
                        <th width="5%"><span>状态</span></th>
                        <th width="7%"><span>日志记录方式</span></th>
                        <th width="15%"><span>操作</span></th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <input type="checkbox" name="menus[]" value="1" />
                        </td>
                        <td>1</td>
                        <td  class="align-l">后台首页</td>
                        <td>admin/index/index</td>
                        <td>0</td>
                        <td>大图</td>
                        <td>正常</td>
                        <td>大图</td>
                        <td>正常</td>
                        <td>
                            <a href="#" class="am-btn am-btn-danger am-btn-xs">删除</a>
                            <a href="#" class="am-btn am-btn-primary am-btn-xs">修改</a>
                        </td>
                    </tr>

                    <tr>
                        <td>
                           <input type="checkbox" name="menus[]" value="2" />
                        </td>
                        <td>2</td>
                        <td  class="align-l">系统管理</td>
                        <td>admin/index/index</td>
                        <td>0</td>
                        <td>大图</td>
                        <td>正常</td>
                        <td>大图</td>
                        <td>正常</td>
                        <td>
                            <a href="#" class="am-btn am-btn-danger am-btn-xs">删除</a>
                            <a href="#" class="am-btn am-btn-primary am-btn-xs">修改</a>
                        </td>
                    </tr>

                    <tr>
                        <td>
                           <input type="checkbox" name="menus[]" value="3" />
                        </td>
                        <td>3</td>
                        <td class="align-l">&nbsp;&nbsp;&nbsp;&nbsp;|— 日志管理</td>
                        <td>admin/index/index</td>
                        <td>0</td>
                        <td>大图</td>
                        <td>正常</td>
                        <td>大图</td>
                        <td>正常</td>
                        <td>
                            <a href="#" class="am-btn am-btn-danger am-btn-xs">删除</a>
                            <a href="#" class="am-btn am-btn-primary am-btn-xs">修改</a>
                        </td>
                    </tr>

                    <tr>
                        <td>
                           <input type="checkbox" name="menus[]" value="3" />
                        </td>
                        <td>3</td>
                        <td class="align-l">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|— 操作日志</td>
                        <td>admin/index/index</td>
                        <td>0</td>
                        <td>大图</td>
                        <td>正常</td>
                        <td>大图</td>
                        <td>正常</td>
                        <td>
                            <a href="#" class="am-btn am-btn-danger am-btn-xs">删除</a>
                            <a href="#" class="am-btn am-btn-primary am-btn-xs">修改</a>
                        </td>
                    </tr>

                    <tr>
                        <td>
                           <input type="checkbox" name="menus[]" value="3" />
                        </td>
                        <td>3</td>
                        <td class="align-l">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|— 系统日志</td>
                        <td>admin/index/index</td>
                        <td>0</td>
                        <td>大图</td>
                        <td>正常</td>
                        <td>大图</td>
                        <td>正常</td>
                        <td>
                            <a href="#" class="am-btn am-btn-danger am-btn-xs">删除</a>
                            <a href="#" class="am-btn am-btn-primary am-btn-xs">修改</a>
                        </td>
                    </tr>
                    
                    
                </tbody>
            </table>
        </div>
        <div class="coms-table-ft clearfix">
            <div class="hander am-form">
                <label class="checkall">
                    <input type="checkbox" name="tblCheckAll">全选</label>
                <div class="am-para-inline w120">
                    <select>
                        <option>批量操作</option>
                        <option>删除</option>
                    </select>
                </div>
            </div>
            <div class="coms-pagination fr mr20">
                <span class="total">共100条数据</span>
                <a href="#" class="first">首页</a>
                <span class="first disabled">首页</span>
                <a href="#" class="prev">上一页</a>
                <span class="prev disabled">上一页</span>
                <a href="#" class="num">1</a>
                <span class="more">...</span>
                <a href="#" class="num">4</a>
                <a href="#" class="num">5</a>
                <span class="num current">6</span>
                <a href="#" class="num">7</a>
                <a href="#" class="num">8</a>
                <span class="more">...</span>
                <a href="#" class="num">20</a>
                <a href="#" class="next">下一页</a>
                <span class="next disabled">下一页</span>
                <span class="last disabled">末页</span>
                <span class="sel">
	                <select>
	                    <option value="10" selected="">10 条/页</option>
	                    <option value="20">20 条/页</option>
	                    <option value="30">30 条/页</option>
	                    <option value="40">40 条/页</option>
	                    <option value="50">50 条/页</option>
	                </select>
	            </span>
                <span class="skip">到第<input type="text" min="1" value="6">页<button type="button">确定</button></span>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
		$(function(){
			var $checkboxAll=$('input[name="tblCheckAll"]');
			var $checkboxSingle=$('input[name="menus[]"]');
            var len=$checkboxSingle.length;
            var count=0;
			
			$checkboxAll.on("click",function(){
                var $this=$(this);
                var isChecked=$this.prop("checked");

                $checkboxSingle.prop({
                    checked:isChecked
                });
                $checkboxAll.prop("checked",isChecked);
                count=len;
			});
            $.each($checkboxSingle,function(index,el){
                $(el).on("change",function(){
                    var $this=$(this);
                    var isChecked=$this.prop("checked");
                    if(!isChecked){
                        $checkboxAll.prop("checked",isChecked);
                        count--;
                    }else{
                        count++;
                        if(count==len){
                            $checkboxAll.prop("checked",true);
                        }
                    }
                })
            });
		})
</script>