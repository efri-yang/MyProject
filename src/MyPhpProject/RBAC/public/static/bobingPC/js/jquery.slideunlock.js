"use strict";function SliderUnlock(e,n,i,t){var o=this,a=o.checkElm(e)?$(e):$,n=o.checkObj(n)?n:new Object,i=o.checkFn(i)?i:function(){},t=o.checkFn(t)?t:function(){},l={labelTip:void 0!==n.labelTip?n.labelTip:"Slide to Unlock",successLabelTip:void 0!==n.successLabelTip?n.successLabelTip:"Success",duration:void 0===n.duration&&isNaN(n.duration)?200:n.duration,swipestart:void 0!==n.swipestart&&n.swipestart,min:void 0===n.min&&isNaN(n.min)?0:n.min,max:void 0===n.max&&isNaN(n.max)?a.width():n.max,index:void 0===n.index&&isNaN(n.index)?0:n.index,IsOk:void 0!==n.isOk&&n.isOk,lableIndex:void 0===n.lableIndex&&isNaN(n.lableIndex)?0:n.lableIndex,isRun:!1,handInCallBack:void 0!==n.handInCallBack?n.handInCallBack:null};o.elm=a,o.opts=l,o.swipestart=l.swipestart,o.min=l.min,o.max=l.max,o.index=l.index,o.isOk=l.isOk,o.lableIndex=l.lableIndex,o.success=i,o.always=t,o.handInCallBack=l.handInCallBack}SliderUnlock.prototype.checkElm=function(e){if($(e).length>0)return!0;throw"this element does not exist."},SliderUnlock.prototype.checkObj=function(e){if("object"==typeof e)return!0;throw"the params is not a object."},SliderUnlock.prototype.checkFn=function(e){if("function"==typeof e)return!0;throw"the param is not a function."},SliderUnlock.prototype.init=function(){var e=this;e.updateView(),e.elm.find(".slideunlock-label").on("mousedown",function(n){var i=n||window.event;e.lableIndex=i.clientX-this.offsetLeft,e.handerIn()}).on("mousemove",function(n){e.handerMove(n,"")}).on("mouseup",function(n){e.handerOut()}).on("mouseout",function(n){e.handerOut()}).on("touchstart",function(n){var i=n||window.event;e.lableIndex=i.originalEvent.touches[0].pageX-this.offsetLeft,e.handerIn()}).on("touchmove",function(n){e.handerMove(n,"mobile")}).on("touchend",function(n){e.handerOut()})},SliderUnlock.prototype.handerIn=function(){var e=this;e.swipestart=!0,e.min=0,e.max=e.elm.width(),!!e.handInCallBack&&e.handInCallBack()},SliderUnlock.prototype.handerOut=function(){var e=this;e.swipestart=!1,e.index<e.max&&e.reset()},SliderUnlock.prototype.handerMouseUp=function(){var e=this;e.opts.isRun=!0,e.swipestart=!1,e.index<e.max&&e.reset(),e.index==e.max&&e.max>0&&e.isOk&&(e.success(),e.opts.isRun=!1)},SliderUnlock.prototype.handerMouseOut=function(){var e=this;e.opts.isRun||(e.swipestart=!1,e.index==e.max&&e.max>0&&e.isOk?e.success():e.reset())},SliderUnlock.prototype.handerMove=function(e,n){var i=this;if(i.swipestart){e.preventDefault();var e=e||window.event;i.index="mobile"==n?e.originalEvent.touches[0].pageX-i.lableIndex:e.clientX-i.lableIndex,i.move(e)}},SliderUnlock.prototype.move=function(e){var n=this;n.index+0>=n.max&&(n.index=n.max-0,n.swipestart=!1,n.isOk=!0),n.index<0&&(n.index=n.min,n.isOk=!1),n.index==n.max&&n.max>0&&n.isOk&&n.success(),n.backgroundTranslate(),n.updateView()},SliderUnlock.prototype.reset=function(){console.dir("Reset");var e=this;e.index=0,e.elm.find(".slideunlock-label").animate({left:e.index},e.opts.duration).next(".slideunlock-lable-tip").animate({opacity:1},e.opts.duration),e.elm.find(".slideunlock-bg").animate({opacity:1,width:128+e.index},e.opts.duration),e.updateView()},SliderUnlock.prototype.backgroundTranslate=function(){var e=this;e.elm.find(".slideunlock-label").css("left",e.index+"px"),e.elm.find(".slideunlock-bg").animate({opacity:1,width:128+e.index},0)},SliderUnlock.prototype.updateView=function(){var e=this;if(e.index==e.max-0){$(".slideunlock-lockable").val(1);var n={filter:"alpha(opacity=1)","-moz-opacity":"1",opacity:"1"};e.elm.addClass("success").find(".slideunlock-lable-tip").html(e.opts.successLabelTip).css(n)}else $(".slideunlock-lockable").val(0),e.elm.removeClass("success").find(".slideunlock-lable-tip").html(e.opts.labelTip);e.always()};